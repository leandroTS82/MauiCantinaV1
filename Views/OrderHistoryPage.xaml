<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:viewModels="clr-namespace:CantinaV1.ViewModels"
             x:Class="CantinaV1.Views.OrderHistoryPage"
             Title="HistÃ³rico de Pedidos">

    <ContentPage.BindingContext>
        <viewModels:OrderHistoryViewModel />
    </ContentPage.BindingContext>

    <CollectionView ItemsSource="{Binding GroupedOrderHistories}" IsGrouped="True">
        <CollectionView.GroupHeaderTemplate>
            <DataTemplate>
                <StackLayout BackgroundColor="LightGray" Padding="5">
                    <Label Text="{Binding Date}" FontAttributes="Bold" />
                </StackLayout>
            </DataTemplate>
        </CollectionView.GroupHeaderTemplate>
        <CollectionView.ItemTemplate>
            <DataTemplate>
                <StackLayout Padding="10" Orientation="Horizontal">
                    <Label Text="{Binding ClientName}" WidthRequest="120"/>
                    <Label Text="{Binding Total, StringFormat='R$ {0:F2}'}" WidthRequest="80"/>
                    <Label Text="{Binding PaymentMethod}" WidthRequest="100"/>
                </StackLayout>
            </DataTemplate>
        </CollectionView.ItemTemplate>
    </CollectionView>

</ContentPage>
